<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SOLID Class Design: The Interface Segregation Principle — Tom Dalling</title>
    <link rel="stylesheet" href="/style.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:wght@700&amp;family=Merriweather:ital,wght@0,400;0,700;1,400;1,700&amp;family=Montserrat:ital,wght@0,400;0,700;1,400&amp;display=swap" rel="stylesheet">

    <meta name="twitter:site" content="@tom_dalling">
    <meta name="twitter:creator" content="@tom_dalling">
    <link rel="alternate" type="application/rss+xml" title="Tom Dalling" href="https://www.tomdalling.com/blog/feed/">
  <link rel="canonical" href="https://www.tomdalling.com/blog/software-design/solid-class-design-the-interface-segregation-principle/">
<meta property="og:title" content="SOLID Class Design: The Interface Segregation Principle">
<meta property="og:url" content="https://www.tomdalling.com/blog/software-design/solid-class-design-the-interface-segregation-principle/">
<meta property="og:image" content="https://www.tomdalling.com/images/posts/isp.jpg">
<meta name="twitter:card" content="summary_large_image">
</head>

  <body>

    <header class="tw-mb-6 tw-py-2 tw-bg-gray-100 tw-border-b tw-border-gray-200 tw-font-title">
      <nav class="tw-container tw-mx-auto max-w-screen-xl tw-space-x-8 tw-px-4">
        <a href="/" class="tw-text-xl tw-text-black">Tom Dalling</a>
        <a href="/blog/" class="tw-text-black">Blog</a>
      </nav>
    </header>

    <div class="tw-container tw-mx-auto tw-flex tw-flex-col lg:tw-flex-row">

      <main class="tw-flex-1 tw-min-w-0 tw-px-4"><article class="post post-single">

  <header>
    <h1><a href="/blog/software-design/solid-class-design-the-interface-segregation-principle/">SOLID Class Design: The Interface Segregation Principle</a></h1>
    <small class="meta">
      <span class="post-date">18 Feb, 2010</span>
      
      —
      Category: <a class="category" href="/blog/category/software-design/">Software Design</a>
      —
      Suggest changes <a class="post-github" href="https://github.com/tomdalling/tomdalling.com/tree/main/input/posts/2010-02-18_solid-class-design-the-interface-segregation-principle.markdown">on GitHub</a>
    </small>
    <div class="main-image">
      <img src="/images/posts/isp.jpg" class="img-responsive">
      <span class="credit">Image courtesy of <a class="artist" href="http://www.lostechies.com/blogs/derickbailey/archive/2009/02/11/solid-development-principles-in-motivational-pictures.aspx">Derick Bailey</a>.</span>
    </div>
  </header>

  <div class="post-content body-text">
<p>This is that last part of a five part series about <a href="http://butunclebob.com/ArticleS.UncleBob.PrinciplesOfOod" title="Principles of OOD">SOLID class design
principles</a> by <a href="http://www.objectmentor.com/omTeam/martin_r.html">Robert C. Martin</a>. The SOLID principles focus on achieving
code that is maintainable, robust, and reusable. In this post, I will discuss
the Interface Segregation Principle.</p>

<blockquote>
  <p><strong>The Interface Segregation Principle (ISP)</strong>: <em>Clients should not be forced
to depend upon interfaces that they do not use</em>.</p>
</blockquote>

<!--more-->

<p>The Interface Segration Principle (ISP) is best demonstrated with an example,
so let’s dive right in.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//EXAMPLE 1</span>
<span class="k">class</span> <span class="nc">SomeButton</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">SomeController</span><span class="o">*</span> <span class="n">_controller</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">setController</span><span class="p">(</span><span class="n">SomeController</span><span class="o">*</span> <span class="n">controller</span><span class="p">);</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">SomeWindow</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">SomeController</span><span class="o">*</span> <span class="n">_controller</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">setController</span><span class="p">(</span><span class="n">SomeController</span><span class="o">*</span> <span class="n">controller</span><span class="p">);</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">SomeController</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">SomeWindow</span><span class="o">*</span> <span class="n">_window</span><span class="p">;</span>
    <span class="n">SomeButton</span><span class="o">*</span> <span class="n">_okButton</span><span class="p">;</span>
    <span class="n">SomeButton</span><span class="o">*</span> <span class="n">_cancelButton</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">onButtonDown</span><span class="p">(</span><span class="n">SomeButton</span><span class="o">*</span> <span class="n">button</span><span class="p">);</span>
    <span class="kt">void</span> <span class="n">onButtonUp</span><span class="p">(</span><span class="n">SomeButton</span><span class="o">*</span> <span class="n">button</span><span class="p">);</span>
    <span class="kt">void</span> <span class="n">onWindowOpen</span><span class="p">(</span><span class="n">SomeWindow</span><span class="o">*</span> <span class="n">window</span><span class="p">);</span>
    <span class="kt">void</span> <span class="n">onWindowClose</span><span class="p">(</span><span class="n">SomeWindow</span><span class="o">*</span> <span class="n">window</span><span class="p">);</span>
    <span class="kt">void</span> <span class="n">onWindowMoved</span><span class="p">(</span><span class="n">SomeWindow</span><span class="o">*</span> <span class="n">window</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<p>In the above example, there is <code>SomeController</code> which handles clicks from two
<code>SomeButton</code> objects and window events from a <code>SomeWindow</code> object. The problem
with this design is that <code>SomeButton</code> and <code>SomeWindow</code> both have a
<code>SomeController</code> pointer. <code>SomeButton</code> <em>does</em> need to call the <code>onButton[X]</code>
methods of the controller object, but it also has access to the <code>onWindow[X]</code>
methods which are useless to the button. The presence of useless <code>onWindow[X]</code>
methods is a violation of the ISP. There is also a cyclic dependency, which is
another hint that something is amiss.</p>

<p><strong>To conform to the ISP, <code>SomeButton</code> must not have access to the <code>onWindow[X]</code>
methods, and <code>SomeWindow</code> must not have access to the <code>onButton[X]</code> methods.</strong>
This can easily be done by applying the <a href="/blog/software-design/solid-class-design-the-dependency-inversion-principle/">Dependency Inversion Principle</a>, and
the <a href="/blog/software-design/solid-class-design-the-open-closed-principle/">Open Closed Principle</a>. Here is one way to improve the design:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//EXAMPLE 2</span>
<span class="c1">// The Button ///////////////////////////////////////////////////////</span>

<span class="k">class</span> <span class="nc">SomeButtonController</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">onButtonDown</span><span class="p">(</span><span class="n">SomeButton</span><span class="o">*</span> <span class="n">button</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">onButtonUp</span><span class="p">(</span><span class="n">SomeButton</span><span class="o">*</span> <span class="n">button</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">SomeButton</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">SomeButtonController</span><span class="o">*</span> <span class="n">_controller</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">setController</span><span class="p">(</span><span class="n">SomeButtonController</span><span class="o">*</span> <span class="n">controller</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// The Window ///////////////////////////////////////////////////////</span>

<span class="k">class</span> <span class="nc">SomeWindowController</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">onWindowOpen</span><span class="p">(</span><span class="n">SomeWindow</span><span class="o">*</span> <span class="n">window</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">onWindowClose</span><span class="p">(</span><span class="n">SomeWindow</span><span class="o">*</span> <span class="n">window</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">onWindowMoved</span><span class="p">(</span><span class="n">SomeWindow</span><span class="o">*</span> <span class="n">window</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">SomeWindow</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">SomeWindowController</span><span class="o">*</span> <span class="n">_controller</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">setController</span><span class="p">(</span><span class="n">SomeWindowController</span><span class="o">*</span> <span class="n">controller</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// The Controller ///////////////////////////////////////////////////////</span>

<span class="k">class</span> <span class="nc">SomeController</span> <span class="o">:</span> <span class="k">public</span> <span class="n">SomeButtonController</span><span class="p">,</span> <span class="k">public</span> <span class="n">SomeWindowController</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">SomeWindow</span><span class="o">*</span> <span class="n">_window</span><span class="p">;</span>
    <span class="n">SomeButton</span><span class="o">*</span> <span class="n">_okButton</span><span class="p">;</span>
    <span class="n">SomeButton</span><span class="o">*</span> <span class="n">_cancelButton</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">onButtonDown</span><span class="p">(</span><span class="n">SomeButton</span><span class="o">*</span> <span class="n">button</span><span class="p">);</span>
    <span class="kt">void</span> <span class="n">onButtonUp</span><span class="p">(</span><span class="n">SomeButton</span><span class="o">*</span> <span class="n">button</span><span class="p">);</span>
    <span class="kt">void</span> <span class="n">onWindowOpen</span><span class="p">(</span><span class="n">SomeWindow</span><span class="o">*</span> <span class="n">window</span><span class="p">);</span>
    <span class="kt">void</span> <span class="n">onWindowClose</span><span class="p">(</span><span class="n">SomeWindow</span><span class="o">*</span> <span class="n">window</span><span class="p">);</span>
    <span class="kt">void</span> <span class="n">onWindowMoved</span><span class="p">(</span><span class="n">SomeWindow</span><span class="o">*</span> <span class="n">window</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<p>The improved design above uses abstract base classes and (the good kind of)
multiple inheritance. <code>SomeButton</code> now only has access to button related
controller methods, and <code>SomeWindow</code> only has access to window related
controller methods, yet <code>SomeController</code> objects can be plugged into both.</p>

<h2>Why bother adhering to the ISP?</h2>

<p>Martin Fowler mentions the cost of recompiling as a reason to adhere to the
ISP. In Example 1, if <code>SomeController</code> were to change, then both <code>SomeButton</code> and
<code>SomeWindow</code> would need to be recompiled. In Example 2, this is not a problem. I
don’t think that’s a huge deal, because <del>a fast compile time is the least of
your worries when you’re writing software</del>. <em>(2014 update: after compiling
Boost a few times, one grows to appreciate fast build times. If you’re the victim
of a monstrous, Boost-like codebase, then this could be important to you.)</em></p>

<p>Martin also mentions that <strong>“fat interfaces” — interfaces with
additional useless methods — lead to inadvertent coupling between
classes</strong>. This is the real reason why the SIP should be adhered to.</p>

<p>Coupling is the bane of reusability. In Example 1, <code>SomeButton</code> and
<code>SomeWindow</code> are not reusable, and can only be used in one window of the
application. It’s absurd to require different window and button classes for
every window in the application.</p>

<p>Fat interfaces also introduce unnecessary complexity, which isn’t good for
maintainability or robustness. It’s very clear in Example 2 that <code>SomeButton</code>
will only call the two methods on <code>SomeButtonController</code>. It’s nice and simple.
However, the distinction is not so clear in Example 1.  In reality
<code>SomeController</code> would have many more than five methods, and <code>SomeButton</code> could
be using any number of them in weird and wonderful ways. I imagine that
<a href="http://en.wikipedia.org/wiki/Dependency_hell">dependency hell</a> is full of developers running around saying <em>“this
<code>SomeButton</code> closes the window, so I’ll just call onWindowClose instead of
onButtonDown.”</em> I know that <em>I</em> would be wailing and gnashing my teeth.</p>

<h2>ISP, OCP, and DIP… OMG WTF BBQ?</h2>

<p>The design flaw in Example 1 doesn’t just violate the ISP, it also violates the
DIP and OCP. This is quite common, so if you’re adhering to the DIP and OCP
properly then you won’t come across many ISP violations. Having said that, the
ISP does gives you another handy way to evaluate your class design. <strong>It
teaches you to ask yourself <em>“do I need all the methods on this interface
I’m using?”</em></strong> If the answer is no, then you might want to use a
different interface and apply some of the other SOLID principles.</p>

</div>

  <footer>
    <div class="tw-rounded-3xl tw-bg-pink-100 tw-p-8 tw-my-16 tw-text-center tw-bg-opacity-50">
      <p class="tw-text-2xl tw-uppercase tw-text-pink-900 tw-font-black tw-mb-4">Enjoy this?</p>

      <p class="tw-flex tw-flex-col sm:tw-flex-row tw-justify-center tw-item-center sm:tw-items-baseline">
        <a href="/feed/" class="tw-flex-1 tw-bg-pink-500 tw-py-3 tw-px-4 tw-rounded-lg tw-text-pink-100 tw-ring-2 tw-ring-pink-300 hover:tw-text-white">Subscribe via RSS</a>
        <span class="tw-flex-none tw-px-8 tw-py-4 tw-text-pink-800">or</span>
        <a href="https://twitter.com/tom_dalling" class="tw-flex-1 tw-bg-pink-500 tw-py-3 tw-px-4 tw-rounded-lg tw-text-pink-100 tw-ring-2 tw-ring-pink-300 hover:tw-text-white">Follow on Twitter</a>
      </p>

      <p class="tw-text-center tw-mt-4 tw-mb-0 tw-text-pink-900">
        <em>Found a mistake?</em> Pull requests are welcome on
        <a href="https://github.com/tomdalling/tomdalling.com/whatever">GitHub</a>.
      </p>
</div>

    


    
      <h2>Comments</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript" id="disqus_script">
        var disqus_shortname = "tomdalling";
        var disqus_identifier = "352 http://tomdalling.com/?p=352";
        var disqus_title = "SOLID Class Design: The Interface Segregation Principle";
        var disqus_url = "https://www.tomdalling.com/blog/software-design/solid-class-design-the-interface-segregation-principle/";

        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments.</a>
</noscript>
    

  </footer>
</article>
</main>

      <aside class="tw-px-4 tw-text-center lg:tw-text-left lg:tw-w-1/3 tw-flex-none">

        <div class="tw-text-lg tw-font-title tw-mb-1">Subscribe</div>
        <ul class="tw-space-y-2">
          <li>
            <a href="/blog/feed/">
              <i class="fa fa-rss"></i> RSS
            </a>
          </li>
          <li>
            <a href="https://twitter.com/tom_dalling">
              <i class="fa fa-twitter"></i> Twitter
            </a>
          </li>
        </ul>

        <div class="tw-text-lg tw-font-title tw-mb-1 tw-mt-6">Recent Posts</div>
        <ul class="recent-posts tw-space-y-2">
          
        <li><a href="/blog/mentoring/start-with-high-level-tests/">Start With High-Level Tests</a></li>
<li><a href="/blog/testing/the-tip-of-the-inputberg/">The Tip Of The Inputberg</a></li>
<li><a href="/blog/software-processes/better-user-stories/">Better User Stories</a></li>
<li><a href="/blog/software-design/consistent-hammer-man/">Consistent Hammer Man</a></li>
<li><a href="/blog/software-design/what-is-the-purpose-of-private/">What Is The Purpose Of Private?</a></li>
</ul>

        <div class="tw-text-lg tw-font-title tw-mb-1 tw-mt-6">Categories</div>
        <ul class="categories tw-space-y-2">
          
        <li>
            <a href="/blog/cocoa/" class="category">Cocoa</a>
            (<span class="post-count">5</span>
            <a class="feed" href="/blog/cocoa/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/coding-styleconventions/" class="category">Coding Style/Conventions</a>
            (<span class="post-count">3</span>
            <a class="feed" href="/blog/coding-styleconventions/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/coding-tips/" class="category">Coding Tips</a>
            (<span class="post-count">4</span>
            <a class="feed" href="/blog/coding-tips/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/mentoring/" class="category">Mentoring Notes</a>
            (<span class="post-count">1</span>
            <a class="feed" href="/blog/mentoring/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/random-stuff/" class="category">Miscellaneous</a>
            (<span class="post-count">3</span>
            <a class="feed" href="/blog/random-stuff/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/modern-opengl/" class="category">Modern OpenGL Series</a>
            (<span class="post-count">10</span>
            <a class="feed" href="/blog/modern-opengl/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/ruby/" class="category">Ruby</a>
            (<span class="post-count">2</span>
            <a class="feed" href="/blog/ruby/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/software-design/" class="category">Software Design</a>
            (<span class="post-count">11</span>
            <a class="feed" href="/blog/software-design/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/software-processes/" class="category">Software Processes</a>
            (<span class="post-count">2</span>
            <a class="feed" href="/blog/software-processes/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/testing/" class="category">Testing</a>
            (<span class="post-count">1</span>
            <a class="feed" href="/blog/testing/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/web/" class="category">Web</a>
            (<span class="post-count">1</span>
            <a class="feed" href="/blog/web/feed/"><i class="fa fa-rss"></i></a>)
          </li>
</ul>

        <div class="tw-text-lg tw-font-title tw-mb-1 tw-mt-6">Archives</div>
        <ul class="archives tw-space-y-2">
          
        <li>
            <a href="/blog/2021/" class="year">2021</a>
            (<span class="post-count">2</span>)
          </li>
<li>
            <a href="/blog/2020/" class="year">2020</a>
            (<span class="post-count">5</span>)
          </li>
<li>
            <a href="/blog/2016/" class="year">2016</a>
            (<span class="post-count">1</span>)
          </li>
<li>
            <a href="/blog/2015/" class="year">2015</a>
            (<span class="post-count">2</span>)
          </li>
<li>
            <a href="/blog/2014/" class="year">2014</a>
            (<span class="post-count">3</span>)
          </li>
<li>
            <a href="/blog/2013/" class="year">2013</a>
            (<span class="post-count">5</span>)
          </li>
<li>
            <a href="/blog/2012/" class="year">2012</a>
            (<span class="post-count">10</span>)
          </li>
<li>
            <a href="/blog/2011/" class="year">2011</a>
            (<span class="post-count">1</span>)
          </li>
<li>
            <a href="/blog/2010/" class="year">2010</a>
            (<span class="post-count">5</span>)
          </li>
<li>
            <a href="/blog/2009/" class="year">2009</a>
            (<span class="post-count">9</span>)
          </li>
</ul>

      </aside>

    </div>

    <footer class="page-footer">
      <p>© 2009 – <span class="current-year">2021</span> Tom Dalling</p>

      <p class="social">
        <a href="https://twitter.com/tom_dalling">
          <i class="fa fa-lg fa-twitter"></i>
        </a>
        <a href="https://github.com/tomdalling">
          <i class="fa fa-lg fa-github"></i>
        </a>
        <a href="https://stackoverflow.com/users/108105/tom-dalling">
          <i class="fa fa-lg fa-stack-overflow"></i>
        </a>
        <a href="mailto:tom%20at%20tomdalling%20com">
          <i class="fa fa-lg fa-envelope"></i>
        </a>
      </p>
    </footer>

    <script src="/bundles/all.js"></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$$','$$']],
          displayMath: [['[blockmath]', '[/blockmath]']]
        }
      });
    </script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  </body>
</html>
