<!DOCTYPE html>
<html lang="en">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7X96B4HGF4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7X96B4HGF4');
    </script>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Why Inline Comments Are Generally a Bad Idea — Tom Dalling</title>
    <link rel="stylesheet" href="/style.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:wght@700&amp;family=Merriweather:ital,wght@0,400;0,700;1,400;1,700&amp;family=Montserrat:ital,wght@0,400;0,700;1,400&amp;display=swap" rel="stylesheet">

    <meta name="twitter:site" content="@tom_dalling">
    <meta name="twitter:creator" content="@tom_dalling">
    <link rel="alternate" type="application/rss+xml" title="Tom Dalling" href="https://www.tomdalling.com/blog/feed/">
  <link rel="canonical" href="https://www.tomdalling.com/blog/coding-styleconventions/why-inline-comments-are-generally-a-bad-idea/">
<meta property="og:title" content="Why Inline Comments Are Generally a Bad Idea">
<meta property="og:url" content="https://www.tomdalling.com/blog/coding-styleconventions/why-inline-comments-are-generally-a-bad-idea/">
<meta name="twitter:card" content="summary">
</head>

  <body>

    <header class="tw-mb-6 tw-py-2 tw-bg-gray-100 tw-border-b tw-border-gray-200 tw-font-title">
      <nav class="tw-container tw-mx-auto tw-max-w-screen-xl tw-space-x-8 tw-px-4">
        <a href="/" class="tw-text-xl tw-text-black">Tom Dalling</a>
        <a href="/blog/" class="tw-text-black">Blog</a>
      </nav>
    </header>

    <div class="tw-container tw-mx-auto tw-flex tw-flex-col lg:tw-flex-row">

      <main class="tw-flex-1 tw-min-w-0 tw-px-4"><article class="post post-single">

  <header>
    <h1><a href="/blog/coding-styleconventions/why-inline-comments-are-generally-a-bad-idea/">Why Inline Comments Are Generally a Bad Idea</a></h1>
    <small class="meta">
      <span class="post-date">08 Oct, 2009</span>
      
      —
      Category: <a class="category" href="/blog/category/coding-styleconventions/">Coding Style/Conventions</a>
      —
      Suggest changes <a class="post-github" href="https://github.com/tomdalling/tomdalling.com/tree/main/input/posts/2009-10-08_why-inline-comments-are-generally-a-bad-idea.markdown">on GitHub</a>
    </small>
    
  </header>

  <div class="post-content body-text">
<p>Bellow is a single function commented in two different ways. Which one is
better?</p>

<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">NSString</span><span class="o">*</span> <span class="nf">MD5StringOfString</span><span class="p">(</span><span class="n">NSString</span><span class="o">*</span> <span class="n">inputStr</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//UTF8 encoding is used so the hash can be compared with hashes of ASCII strings</span>
    <span class="n">NSData</span><span class="o">*</span> <span class="n">inputData</span> <span class="o">=</span> <span class="p">[</span><span class="n">inputStr</span> <span class="nf">dataUsingEncoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>

    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">outputData</span><span class="p">[</span><span class="nf">CC_MD5_DIGEST_LENGTH</span><span class="p">];</span>
    <span class="n">CC_MD5</span><span class="p">([</span><span class="n">inputData</span> <span class="nf">bytes</span><span class="p">],</span> <span class="p">[</span><span class="n">inputData</span> <span class="nf">length</span><span class="p">],</span> <span class="n">outputData</span><span class="p">);</span>

    <span class="n">NSMutableString</span><span class="o">*</span> <span class="n">hashStr</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableString</span> <span class="nf">string</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">CC_MD5_DIGEST_LENGTH</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">[</span><span class="n">hashStr</span> <span class="nf">appendFormat</span><span class="p">:</span><span class="s">@"%02x"</span><span class="p">,</span> <span class="n">outputData</span><span class="p">[</span><span class="nf">i</span><span class="p">]];</span>
 
    <span class="k">return</span> <span class="n">hashStr</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">NSString</span><span class="o">*</span> <span class="nf">MD5StringOfString</span><span class="p">(</span><span class="n">NSString</span><span class="o">*</span> <span class="n">inputStr</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//convert the string to UTF8 encoded byte data</span>
    <span class="n">NSData</span><span class="o">*</span> <span class="n">inputData</span> <span class="o">=</span> <span class="p">[</span><span class="n">inputStr</span> <span class="nf">dataUsingEncoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>

    <span class="c1">//calculate the hash</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">outputData</span><span class="p">[</span><span class="nf">CC_MD5_DIGEST_LENGTH</span><span class="p">];</span>
    <span class="n">CC_MD5</span><span class="p">([</span><span class="n">inputData</span> <span class="nf">bytes</span><span class="p">],</span> <span class="p">[</span><span class="n">inputData</span> <span class="nf">length</span><span class="p">],</span> <span class="n">outputData</span><span class="p">);</span>

    <span class="c1">//convert hash to a hexadecimal string</span>
    <span class="n">NSMutableString</span><span class="o">*</span> <span class="n">hashStr</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableString</span> <span class="nf">string</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">CC_MD5_DIGEST_LENGTH</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">[</span><span class="n">hashStr</span> <span class="nf">appendFormat</span><span class="p">:</span><span class="s">@"%02x"</span><span class="p">,</span> <span class="n">outputData</span><span class="p">[</span><span class="nf">i</span><span class="p">]];</span>
 
    <span class="c1">//return the hexadecimal string</span>
    <span class="k">return</span> <span class="n">hashStr</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<!--more-->

<h2>The Good</h2>

<p>The single comment in the first block of code doesn’t explain <em>what</em> the code
does, but explains <em>why</em>. The difference is that the “why” can’t be discerned
from the code alone. Someone editing the code would see this comment, and know
not to change the encoding unless they wanted to break compatibility with ASCII
string hashes.</p>

<h2>The Bad</h2>

<p>The comments in the second block of code are redundant. They explain <em>what</em> the
code does, which is information that the code already contains. If the code is
too difficult to understand, then it should be decomposed into functions with
meaningful names like so:</p>

<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">NSString</span><span class="o">*</span> <span class="nf">MD5StringOfString</span><span class="p">(</span><span class="n">NSString</span><span class="o">*</span> <span class="n">inputStr</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">NSData</span><span class="o">*</span> <span class="n">inputData</span> <span class="o">=</span> <span class="p">[</span><span class="n">inputStr</span> <span class="nf">dataUsingEncoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
    <span class="n">NSData</span><span class="o">*</span> <span class="n">hashData</span> <span class="o">=</span> <span class="n">MD5HashOfData</span><span class="p">(</span><span class="n">inputData</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">HexadecimalStringFromData</span><span class="p">(</span><span class="n">hashData</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>I would argue that the above code with no comments is much easier to read than
the original code with four comments. Hard-to-read code should be rewritten
properly, instead of being explained with comments.</p>

<h2>The Heart of the Matter</h2>

<p>Some people think comments are extra information that you get for free. If
they appear to have no cost associated with them, and there is no downside to
extra information, then comments sound awesome. The problem lies in the fact
that <strong>there <em>are</em> costs associated with comments</strong>.</p>

<p>Each comment, good or bad, comes with a future maintenance cost because they
must be synchronized with the code whenever changes are made. The more
comments, the higher the maintenance cost. On top of this, if a comment were to
get out of sync, it could confuse the reader which is also expensive in terms
of time and the possible introduction of bugs. You can’t run comments, and a
comment that lies is worse than no comment at all.</p>

<p>My advice is to:</p>

<ul>
  <li>
    <p>Avoid comments that explain “what” the code does.</p>
  </li>
  <li>
    <p>Only include “why” comments if they are of decent value to developers
maintaining the code.</p>
  </li>
  <li>
    <p>Always delete code that has been commented out. If you really need the old
code, it should be available from your version control software anyway.</p>
  </li>
</ul>

<p>If you disagree with me, feel free to share your thoughts in the comments. Pun
intended!</p>

<p>P.S. Auto-documentation comments (Javadoc, Doxygen, etc.) may be a necessary
evil.</p>

<p>P.P.S. See <a href="http://boredzo.org/blog/archives/2009-08-14/variables-for-clarification" title="Variables for clarification">this post by Peter Hosey</a> where he almost accidentally committed an incorrect
comment, then refactors the code to avoid the comment entirely.</p>

</div>

  <footer>
    <div class="tw-rounded-3xl tw-bg-pink-100 tw-p-8 tw-my-16 tw-text-center tw-bg-opacity-50">
      <p class="tw-text-2xl tw-uppercase tw-text-pink-900 tw-font-black tw-mb-4">Enjoy this?</p>

      <p class="tw-flex tw-flex-col sm:tw-flex-row tw-justify-center tw-item-center sm:tw-items-baseline">
        <a href="/feed/" class="tw-flex-1 tw-bg-pink-500 tw-py-3 tw-px-4 tw-rounded-lg tw-text-pink-100 tw-ring-2 tw-ring-pink-300 tw-max-w-52 hover:tw-text-white">Subscribe via RSS</a>
      </p>

      <p class="tw-text-center tw-mt-4 tw-mb-0 tw-text-pink-900">
        <em>Found a mistake?</em> Pull requests are welcome on
        <a href="https://github.com/tomdalling/tomdalling.com">GitHub</a>.
      </p>
</div>

    


    
      <h2>Comments</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript" id="disqus_script">
        var disqus_shortname = "tomdalling";
        var disqus_identifier = "208 http://tomdalling.com/?p=208";
        var disqus_title = "Why Inline Comments Are Generally a Bad Idea";
        var disqus_url = "https://www.tomdalling.com/blog/coding-styleconventions/why-inline-comments-are-generally-a-bad-idea/";

        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments.</a>
</noscript>
    

  </footer>
</article>
</main>

      <aside class="tw-px-4 tw-text-center lg:tw-text-left lg:tw-w-1/3 tw-flex-none">

        <div class="tw-text-lg tw-font-title tw-mb-1">Subscribe</div>
        <ul class="tw-space-y-2">
          <li>
            <a href="/blog/feed/">
              <i class="fa fa-rss"></i> RSS
            </a>
          </li>
        </ul>

        <div class="tw-text-lg tw-font-title tw-mb-1 tw-mt-6">Recent Posts</div>
        <ul class="recent-posts tw-space-y-2">
          
        <li><a href="/blog/software-processes/toms-philosophy-of-project-management-for-software-development/">Tom's Philosophy Of Project Management For Software Development</a></li>
<li><a href="/blog/software-processes/leprechauns-root-causes-and-other-fairy-tails/">Leprechauns, Root Causes, And Other Fairy Tales</a></li>
<li><a href="/blog/software-processes/milestones-as-talking-points/">Milestones As Talking Points</a></li>
<li><a href="/blog/mentoring/work-in-thin-vertical-slices/">Work In Thin Vertical Slices</a></li>
<li><a href="/blog/management/the-difference-between-management-and-leadership/">The Difference Between Management And Leadership</a></li>
</ul>

        <div class="tw-text-lg tw-font-title tw-mb-1 tw-mt-6">Categories</div>
        <ul class="categories tw-space-y-2">
          
        <li>
            <a href="/blog/cocoa/" class="category">Cocoa</a>
            (<span class="post-count">5</span>
            <a class="feed" href="/blog/cocoa/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/coding-styleconventions/" class="category">Coding Style/Conventions</a>
            (<span class="post-count">3</span>
            <a class="feed" href="/blog/coding-styleconventions/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/coding-tips/" class="category">Coding Tips</a>
            (<span class="post-count">4</span>
            <a class="feed" href="/blog/coding-tips/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/management/" class="category">Management</a>
            (<span class="post-count">1</span>
            <a class="feed" href="/blog/management/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/mentoring/" class="category">Mentoring Notes</a>
            (<span class="post-count">4</span>
            <a class="feed" href="/blog/mentoring/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/random-stuff/" class="category">Miscellaneous</a>
            (<span class="post-count">5</span>
            <a class="feed" href="/blog/random-stuff/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/modern-opengl/" class="category">Modern OpenGL Series</a>
            (<span class="post-count">10</span>
            <a class="feed" href="/blog/modern-opengl/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/ruby/" class="category">Ruby</a>
            (<span class="post-count">2</span>
            <a class="feed" href="/blog/ruby/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/software-design/" class="category">Software Design</a>
            (<span class="post-count">12</span>
            <a class="feed" href="/blog/software-design/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/software-processes/" class="category">Software Processes</a>
            (<span class="post-count">13</span>
            <a class="feed" href="/blog/software-processes/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/testing/" class="category">Testing</a>
            (<span class="post-count">2</span>
            <a class="feed" href="/blog/testing/feed/"><i class="fa fa-rss"></i></a>)
          </li>
<li>
            <a href="/blog/web/" class="category">Web</a>
            (<span class="post-count">1</span>
            <a class="feed" href="/blog/web/feed/"><i class="fa fa-rss"></i></a>)
          </li>
</ul>

        <div class="tw-text-lg tw-font-title tw-mb-1 tw-mt-6">Archives</div>
        <ul class="archives tw-space-y-2">
          
        <li>
            <a href="/blog/2025/" class="year">2025</a>
            (<span class="post-count">7</span>)
          </li>
<li>
            <a href="/blog/2024/" class="year">2024</a>
            (<span class="post-count">2</span>)
          </li>
<li>
            <a href="/blog/2023/" class="year">2023</a>
            (<span class="post-count">5</span>)
          </li>
<li>
            <a href="/blog/2022/" class="year">2022</a>
            (<span class="post-count">1</span>)
          </li>
<li>
            <a href="/blog/2021/" class="year">2021</a>
            (<span class="post-count">6</span>)
          </li>
<li>
            <a href="/blog/2020/" class="year">2020</a>
            (<span class="post-count">5</span>)
          </li>
<li>
            <a href="/blog/2016/" class="year">2016</a>
            (<span class="post-count">1</span>)
          </li>
<li>
            <a href="/blog/2015/" class="year">2015</a>
            (<span class="post-count">2</span>)
          </li>
<li>
            <a href="/blog/2014/" class="year">2014</a>
            (<span class="post-count">3</span>)
          </li>
<li>
            <a href="/blog/2013/" class="year">2013</a>
            (<span class="post-count">5</span>)
          </li>
<li>
            <a href="/blog/2012/" class="year">2012</a>
            (<span class="post-count">10</span>)
          </li>
<li>
            <a href="/blog/2011/" class="year">2011</a>
            (<span class="post-count">1</span>)
          </li>
<li>
            <a href="/blog/2010/" class="year">2010</a>
            (<span class="post-count">5</span>)
          </li>
<li>
            <a href="/blog/2009/" class="year">2009</a>
            (<span class="post-count">9</span>)
          </li>
</ul>

      </aside>

    </div>

    <footer class="page-footer">
      <p>© 2009 – <span class="current-year">2025</span> Tom Dalling</p>

      <p class="social">
        <a href="https://github.com/tomdalling">
          <i class="fa fa-lg fa-github"></i>
        </a>
        <a href="https://stackoverflow.com/users/108105/tom-dalling">
          <i class="fa fa-lg fa-stack-overflow"></i>
        </a>
        <a href="mailto:tom%20at%20tomdalling%20com">
          <i class="fa fa-lg fa-envelope"></i>
        </a>
      </p>
    </footer>

    <script src="/bundles/all.js"></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$$','$$']],
          displayMath: [['[blockmath]', '[/blockmath]']]
        }
      });
    </script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  </body>
</html>
